<!DOCTYPE html>
<html lang="en">
<head>
  <% var username = username; var user = user; var event = event; var startDateTimeStr = startDateTimeStr; var endDateTimeStr = endDateTimeStr; %>
  <% include ./partials/head %>
</head>
<body class="container">

  <header>
    <% include ./partials/flash %>
    <% include ./partials/header %>
  </header>

  <main>
    <div class="jumbotron">
      <% if (!event) { %>
        <h1>Create Event</h1>
        <form class="form-horizontal" action="/event" method="POST">
      <% } else { %>
        <h1>Update Event</h1>
        <form class="form-horizontal" action="/event/<%= event._id %>/edit" method="POST">
      <% } %>


        <fieldset>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="name">Event Name</label>
            <div class="col-md-4">
            <input id="name" name="name" type="text" placeholder="" class="form-control input-md" required="" value="<%= (event != null && event.name) ? event.name : '' %>" >

            </div>
          </div>

          <!-- DateTime input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="startTime">Start Time</label>
            <div class="col-md-4">
                  <div class='input-group date' id='datetimepicker1'>
                      <input id="startTime" name="startTime" type='text' class="form-control" value="<%= (startDateTimeStr) ? startDateTimeStr : '' %>" />
                      <span class="input-group-addon">
                          <span class="glyphicon glyphicon-calendar"></span>
                      </span>
                  </div>
            </div>
          </div>

          <!-- DateTime input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="endTime">End Time</label>
            <div class="col-md-4">
                  <div class='input-group date' id='datetimepicker2'>
                      <input id="endTime" name="endTime" type='text' class="form-control" value="<%= (endDateTimeStr) ? endDateTimeStr : '' %>" />
                      <span class="input-group-addon">
                          <span class="glyphicon glyphicon-calendar"></span>
                      </span>
                  </div>
            </div>
          </div>

          <!-- Bootstrap DateTimePicker JS -->
          <script type="text/javascript">
              $(function () {
                  $('#datetimepicker1').datetimepicker();
                  $('#datetimepicker2').datetimepicker();
              });
          </script>


          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="location">Location</label>
            <div class="col-md-4">
            <input id="location" name="location" type="text" placeholder="" class="form-control input-md" value="<%= (event != null && event.location) ? event.location : '' %>" >

            </div>
          </div>

          <!-- File Button -->
          <div class="form-group">
            <label class="col-md-4 control-label" for="photo">Photo</label>
            <div class="col-md-4">
              <input id="photo" name="photo" class="input-file" type="file" style="margin-top: 0.5em;">
              <span class="help-block">(Optional) Photo to be displayed with this event.</span>
            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="sponsors">Sponsors</label>
            <div class="col-md-4">
            <input id="sponsors" name="sponsors" type="text" placeholder="" class="form-control input-md">

            </div>
          </div>

          <!-- Textarea -->
          <div class="form-group">
            <label class="col-md-4 control-label" for="description">Description</label>
            <div class="col-md-4">
              <textarea class="form-control" id="description" name="description"></textarea>
            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="rsvpLimit">RSVP Limit</label>
            <div class="col-md-4">
            <input id="rsvpLimit" name="rsvpLimit" type="text" placeholder="" class="form-control input-md">
            <span class="help-block">Leave blank if no RSVP limit.</span>
            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="major">Major Restrictions</label>
            <div class="col-md-4">
            <input id="major" name="major" type="text" placeholder="" class="form-control input-md">
            <span class="help-block">Leave blank if no restrictions on major. Separate restrictions with commas and a space. Only those with majors listed here will be allowed to RSVP.</span>
            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="lockoutTime">Lockout Time</label>
            <div class="col-md-4">
            <input id="lockoutTime" name="lockoutTime" type="text" placeholder="" class="form-control input-md">
            <span class="help-block">Number of <b>hours</b> before students can RSVP/unRSVP from this event. Leave blank if no lockout time.</span>
            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="tags">Tags</label>
            <div class="col-md-4">
            <input id="tags" name="tags" type="text" class="form-control input-md">
            <span class="help-block">Attributes associated with this event. For categorization purposes.</span>
            </div>
          </div>

          <!-- Button -->
          <div class="form-group">
            <div class="col-md-4 col-md-offset-4">
              <% if (!event) { %>
                <button id="submit" name="submit" class="btn btn-default">Create Event</button>
              <% } else { %>
                <button id="submit" name="submit" class="btn btn-default">Update Event</button>
              <% } %>
            </div>
          </div>

        </fieldset>
      </form>

    </div>




  </main>

  <footer>
    <% include ./partials/footer %>
  </footer>

</body>
</html>
